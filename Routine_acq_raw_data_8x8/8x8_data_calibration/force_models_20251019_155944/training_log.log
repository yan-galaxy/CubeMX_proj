2025-10-19 15:59:44,229 - INFO - 日志系统初始化完成（训练模式），日志文件：force_models_20251019_155944/training_log.log
2025-10-19 15:59:44,229 - INFO - 模型保存目录：force_models_20251019_155944
2025-10-19 15:59:44,241 - INFO - 
====== 开始训练模式（使用cuda设备）======
2025-10-19 15:59:44,241 - INFO - === 训练超参数（全部来自全局宏定义） ===
2025-10-19 15:59:44,241 - INFO - MLP：隐藏层神经元(10, 10, 5) | 轮次200 | 学习率0.001 | 批次1024
2025-10-19 15:59:44,242 - INFO - LSTM：输入维度4 | 隐藏维度16 | 层数2 | 轮次100 | 学习率0.0001 | 批次1024 | 窗口50ms
2025-10-19 15:59:44,242 - INFO - 最小二乘：多项式度数4
2025-10-19 15:59:44,395 - INFO - 已读取train数据文件：C:/Users/Admin/Desktop/CubeMX_proj/Routine_acq_raw_data_8x8/8x8_data_calibration/aligned_data3.csv，数据形状：(439501, 7)
2025-10-19 15:59:44,811 - INFO - LSTM时序数据构建完成：序列特征(439452, 50, 4)，序列目标(439452, 3)（窗口大小50）
2025-10-19 15:59:45,281 - INFO - 
====== 训练最小二乘模型 ======
2025-10-19 15:59:45,281 - INFO - 最小二乘多项式特征配置：度数=4
2025-10-19 15:59:45,360 - INFO - Fx-最小二乘 训练误差：MSE=0.119847 (N²)，RMSE=0.346190 N，R²=0.447335
2025-10-19 15:59:45,401 - INFO - Fy-最小二乘 训练误差：MSE=0.148474 (N²)，RMSE=0.385323 N，R²=0.302197
2025-10-19 15:59:45,439 - INFO - Fz-最小二乘 训练误差：MSE=0.313093 (N²)，RMSE=0.559547 N，R²=0.880420
2025-10-19 15:59:45,439 - INFO - 最小二乘模型训练完成
2025-10-19 15:59:45,440 - INFO - 
====== 训练MLP模型 ======
2025-10-19 15:59:45,440 - INFO - MLP模型配置：
2025-10-19 15:59:45,440 - INFO -   输入层维度：4（传感器数量）
2025-10-19 15:59:45,440 - INFO -   隐藏层数量：3层
2025-10-19 15:59:45,440 - INFO -   各层神经元数：(10, 10, 5)
2025-10-19 15:59:45,440 - INFO -   输出层维度：1（单个力分量）
2025-10-19 15:59:45,440 - INFO -   训练参数：epochs=200，batch_size=1024，学习率=0.001
2025-10-19 16:00:06,256 - INFO -   Fx MLP：轮次10/200，标准化MSE=0.378544
2025-10-19 16:00:26,138 - INFO -   Fx MLP：轮次20/200，标准化MSE=0.305258
2025-10-19 16:00:45,819 - INFO -   Fx MLP：轮次30/200，标准化MSE=0.285269
2025-10-19 16:01:05,494 - INFO -   Fx MLP：轮次40/200，标准化MSE=0.274300
2025-10-19 16:01:25,119 - INFO -   Fx MLP：轮次50/200，标准化MSE=0.265661
2025-10-19 16:01:44,721 - INFO -   Fx MLP：轮次60/200，标准化MSE=0.261644
2025-10-19 16:02:04,261 - INFO -   Fx MLP：轮次70/200，标准化MSE=0.256896
2025-10-19 16:02:23,931 - INFO -   Fx MLP：轮次80/200，标准化MSE=0.249866
2025-10-19 16:02:43,579 - INFO -   Fx MLP：轮次90/200，标准化MSE=0.244803
2025-10-19 16:03:03,233 - INFO -   Fx MLP：轮次100/200，标准化MSE=0.241510
2025-10-19 16:03:22,815 - INFO -   Fx MLP：轮次110/200，标准化MSE=0.238251
2025-10-19 16:03:42,434 - INFO -   Fx MLP：轮次120/200，标准化MSE=0.236192
2025-10-19 16:04:02,097 - INFO -   Fx MLP：轮次130/200，标准化MSE=0.233359
2025-10-19 16:04:21,712 - INFO -   Fx MLP：轮次140/200，标准化MSE=0.230387
2025-10-19 16:04:41,300 - INFO -   Fx MLP：轮次150/200，标准化MSE=0.228683
2025-10-19 16:05:00,910 - INFO -   Fx MLP：轮次160/200，标准化MSE=0.227884
2025-10-19 16:05:20,482 - INFO -   Fx MLP：轮次170/200，标准化MSE=0.225860
2025-10-19 16:05:40,071 - INFO -   Fx MLP：轮次180/200，标准化MSE=0.224537
2025-10-19 16:05:59,645 - INFO -   Fx MLP：轮次190/200，标准化MSE=0.223185
2025-10-19 16:06:19,244 - INFO -   Fx MLP：轮次200/200，标准化MSE=0.221866
2025-10-19 16:06:19,264 - INFO - Fx-MLP 训练误差：MSE=0.048214 (N²)，RMSE=0.219578 N，R²=0.777664
2025-10-19 16:06:38,931 - INFO -   Fy MLP：轮次10/200，标准化MSE=0.290410
2025-10-19 16:06:58,559 - INFO -   Fy MLP：轮次20/200，标准化MSE=0.216180
2025-10-19 16:07:18,130 - INFO -   Fy MLP：轮次30/200，标准化MSE=0.201412
2025-10-19 16:07:37,707 - INFO -   Fy MLP：轮次40/200，标准化MSE=0.191812
2025-10-19 16:07:57,352 - INFO -   Fy MLP：轮次50/200，标准化MSE=0.185633
2025-10-19 16:08:16,957 - INFO -   Fy MLP：轮次60/200，标准化MSE=0.178599
2025-10-19 16:08:36,555 - INFO -   Fy MLP：轮次70/200，标准化MSE=0.172730
2025-10-19 16:08:56,189 - INFO -   Fy MLP：轮次80/200，标准化MSE=0.169605
2025-10-19 16:09:15,789 - INFO -   Fy MLP：轮次90/200，标准化MSE=0.167414
2025-10-19 16:09:35,409 - INFO -   Fy MLP：轮次100/200，标准化MSE=0.164204
2025-10-19 16:09:54,982 - INFO -   Fy MLP：轮次110/200，标准化MSE=0.159977
2025-10-19 16:10:14,465 - INFO -   Fy MLP：轮次120/200，标准化MSE=0.157397
2025-10-19 16:10:34,037 - INFO -   Fy MLP：轮次130/200，标准化MSE=0.154505
2025-10-19 16:10:53,549 - INFO -   Fy MLP：轮次140/200，标准化MSE=0.153111
2025-10-19 16:11:13,113 - INFO -   Fy MLP：轮次150/200，标准化MSE=0.151791
2025-10-19 16:11:32,726 - INFO -   Fy MLP：轮次160/200，标准化MSE=0.151557
2025-10-19 16:11:52,309 - INFO -   Fy MLP：轮次170/200，标准化MSE=0.150907
2025-10-19 16:12:11,901 - INFO -   Fy MLP：轮次180/200，标准化MSE=0.150086
2025-10-19 16:12:31,499 - INFO -   Fy MLP：轮次190/200，标准化MSE=0.149874
2025-10-19 16:12:51,002 - INFO -   Fy MLP：轮次200/200，标准化MSE=0.149950
2025-10-19 16:12:51,020 - INFO - Fy-MLP 训练误差：MSE=0.031756 (N²)，RMSE=0.178203 N，R²=0.850750
2025-10-19 16:13:10,676 - INFO -   Fz MLP：轮次10/200，标准化MSE=0.132302
2025-10-19 16:13:30,278 - INFO -   Fz MLP：轮次20/200，标准化MSE=0.089520
2025-10-19 16:13:49,871 - INFO -   Fz MLP：轮次30/200，标准化MSE=0.084187
2025-10-19 16:14:09,441 - INFO -   Fz MLP：轮次40/200，标准化MSE=0.080120
2025-10-19 16:14:29,034 - INFO -   Fz MLP：轮次50/200，标准化MSE=0.078341
2025-10-19 16:14:48,576 - INFO -   Fz MLP：轮次60/200，标准化MSE=0.077516
2025-10-19 16:15:08,125 - INFO -   Fz MLP：轮次70/200，标准化MSE=0.076957
2025-10-19 16:15:27,666 - INFO -   Fz MLP：轮次80/200，标准化MSE=0.076492
2025-10-19 16:15:47,315 - INFO -   Fz MLP：轮次90/200，标准化MSE=0.076111
2025-10-19 16:16:06,912 - INFO -   Fz MLP：轮次100/200，标准化MSE=0.075831
2025-10-19 16:16:26,554 - INFO -   Fz MLP：轮次110/200，标准化MSE=0.075398
2025-10-19 16:16:46,051 - INFO -   Fz MLP：轮次120/200，标准化MSE=0.075192
2025-10-19 16:17:05,559 - INFO -   Fz MLP：轮次130/200，标准化MSE=0.074886
2025-10-19 16:17:25,138 - INFO -   Fz MLP：轮次140/200，标准化MSE=0.074595
2025-10-19 16:17:44,797 - INFO -   Fz MLP：轮次150/200，标准化MSE=0.074155
2025-10-19 16:18:04,450 - INFO -   Fz MLP：轮次160/200，标准化MSE=0.074002
2025-10-19 16:18:24,540 - INFO -   Fz MLP：轮次170/200，标准化MSE=0.073654
2025-10-19 16:18:44,261 - INFO -   Fz MLP：轮次180/200，标准化MSE=0.073309
2025-10-19 16:19:04,027 - INFO -   Fz MLP：轮次190/200，标准化MSE=0.073213
2025-10-19 16:19:23,763 - INFO -   Fz MLP：轮次200/200，标准化MSE=0.073002
2025-10-19 16:19:23,781 - INFO - Fz-MLP 训练误差：MSE=0.190742 (N²)，RMSE=0.436740 N，R²=0.927150
2025-10-19 16:19:23,781 - INFO - MLP模型训练完成
2025-10-19 16:19:23,781 - INFO - 
====== 训练LSTM模型 ======
2025-10-19 16:19:23,781 - INFO - LSTM模型配置：
2025-10-19 16:19:23,782 - INFO -   时序窗口长度：50（对应50ms，采样率1000Hz）
2025-10-19 16:19:23,782 - INFO -   输入层维度：4（传感器数量）
2025-10-19 16:19:23,782 - INFO -   LSTM层数：2层
2025-10-19 16:19:23,782 - INFO -   隐藏层维度：16
2025-10-19 16:19:23,782 - INFO -   输出层维度：1（单个力分量）
2025-10-19 16:19:23,782 - INFO -   训练参数：epochs=100，batch_size=1024，学习率=0.0001
2025-10-19 16:19:49,896 - INFO -   Fx LSTM：轮次10/100，标准化MSE=0.420730
2025-10-19 16:20:15,656 - INFO -   Fx LSTM：轮次20/100，标准化MSE=0.315849
2025-10-19 16:20:41,626 - INFO -   Fx LSTM：轮次30/100，标准化MSE=0.232179
2025-10-19 16:21:07,729 - INFO -   Fx LSTM：轮次40/100，标准化MSE=0.196767
2025-10-19 16:21:33,788 - INFO -   Fx LSTM：轮次50/100，标准化MSE=0.180231
2025-10-19 16:21:59,873 - INFO -   Fx LSTM：轮次60/100，标准化MSE=0.172475
2025-10-19 16:22:25,765 - INFO -   Fx LSTM：轮次70/100，标准化MSE=0.160794
2025-10-19 16:22:51,617 - INFO -   Fx LSTM：轮次80/100，标准化MSE=0.164700
2025-10-19 16:23:17,557 - INFO -   Fx LSTM：轮次90/100，标准化MSE=0.152697
2025-10-19 16:23:43,395 - INFO -   Fx LSTM：轮次100/100，标准化MSE=0.143006
2025-10-19 16:23:43,395 - INFO -   Fx LSTM：开始分批次计算训练误差
2025-10-19 16:23:44,255 - INFO - Fx-LSTM 训练误差：MSE=0.032497 (N²)，RMSE=0.180268 N，R²=0.850161
2025-10-19 16:24:09,951 - INFO -   Fy LSTM：轮次10/100，标准化MSE=0.242413
2025-10-19 16:24:35,798 - INFO -   Fy LSTM：轮次20/100，标准化MSE=0.199104
2025-10-19 16:25:01,831 - INFO -   Fy LSTM：轮次30/100，标准化MSE=0.165123
2025-10-19 16:25:27,689 - INFO -   Fy LSTM：轮次40/100，标准化MSE=0.151513
2025-10-19 16:25:53,727 - INFO -   Fy LSTM：轮次50/100，标准化MSE=0.163574
2025-10-19 16:26:19,696 - INFO -   Fy LSTM：轮次60/100，标准化MSE=0.141382
2025-10-19 16:26:45,571 - INFO -   Fy LSTM：轮次70/100，标准化MSE=0.144501
2025-10-19 16:27:11,388 - INFO -   Fy LSTM：轮次80/100，标准化MSE=0.125592
2025-10-19 16:27:37,301 - INFO -   Fy LSTM：轮次90/100，标准化MSE=0.126125
2025-10-19 16:28:03,489 - INFO -   Fy LSTM：轮次100/100，标准化MSE=0.128895
2025-10-19 16:28:03,489 - INFO -   Fy LSTM：开始分批次计算训练误差
2025-10-19 16:28:04,291 - INFO - Fy-LSTM 训练误差：MSE=0.030477 (N²)，RMSE=0.174576 N，R²=0.856780
2025-10-19 16:28:30,469 - INFO -   Fz LSTM：轮次10/100，标准化MSE=0.092162
2025-10-19 16:28:56,414 - INFO -   Fz LSTM：轮次20/100，标准化MSE=0.081416
2025-10-19 16:29:22,411 - INFO -   Fz LSTM：轮次30/100，标准化MSE=0.079515
2025-10-19 16:29:56,280 - INFO -   Fz LSTM：轮次40/100，标准化MSE=0.075353
2025-10-19 16:30:28,112 - INFO -   Fz LSTM：轮次50/100，标准化MSE=0.070480
2025-10-19 16:30:54,054 - INFO -   Fz LSTM：轮次60/100，标准化MSE=0.061995
2025-10-19 16:31:19,888 - INFO -   Fz LSTM：轮次70/100，标准化MSE=0.055296
2025-10-19 16:31:45,768 - INFO -   Fz LSTM：轮次80/100，标准化MSE=0.049897
2025-10-19 16:32:11,747 - INFO -   Fz LSTM：轮次90/100，标准化MSE=0.045915
2025-10-19 16:32:37,570 - INFO -   Fz LSTM：轮次100/100，标准化MSE=0.042263
2025-10-19 16:32:37,571 - INFO -   Fz LSTM：开始分批次计算训练误差
2025-10-19 16:32:38,377 - INFO - Fz-LSTM 训练误差：MSE=0.106986 (N²)，RMSE=0.327087 N，R²=0.959142
2025-10-19 16:32:38,379 - INFO - LSTM模型训练完成
2025-10-19 16:32:38,384 - INFO - MLP模型保存完成：force_models_20251019_155944\mlp_models
2025-10-19 16:32:38,388 - INFO - LSTM模型保存完成：force_models_20251019_155944\lstm_models
2025-10-19 16:32:38,389 - INFO - 最小二乘系数保存完成：sensor_calibration_raw.json
2025-10-19 16:32:38,389 - INFO - 
====== 训练模式：全局预测与误差对比 ======
2025-10-19 16:32:57,482 - INFO - 最小二乘预测完成：平均时间0.0434ms（多项式度数4）
2025-10-19 16:32:57,536 - INFO - MLP预测完成：平均时间0.0001ms
2025-10-19 16:32:57,897 - INFO - LSTM分批次预测：批次大小=1024，总序列数=439452
2025-10-19 16:33:00,940 - INFO - LSTM预测完成：平均时间0.0077ms（时序窗口50，批次1024）
2025-10-19 16:33:00,995 - INFO - 
Fx-最小二乘：MSE=0.119847 (N²)，RMSE=0.346190 N，R²=0.447335
2025-10-19 16:33:01,012 - INFO - 
Fy-最小二乘：MSE=0.148474 (N²)，RMSE=0.385323 N，R²=0.302197
2025-10-19 16:33:01,028 - INFO - 
Fz-最小二乘：MSE=0.313093 (N²)，RMSE=0.559547 N，R²=0.880420
2025-10-19 16:33:01,044 - INFO - 
Fx-MLP：MSE=0.048214 (N²)，RMSE=0.219578 N，R²=0.777664
2025-10-19 16:33:01,060 - INFO - 
Fy-MLP：MSE=0.031756 (N²)，RMSE=0.178203 N，R²=0.850750
2025-10-19 16:33:01,075 - INFO - 
Fz-MLP：MSE=0.190742 (N²)，RMSE=0.436740 N，R²=0.927150
2025-10-19 16:33:01,091 - INFO - 
Fx-LSTM：MSE=0.032493 (N²)，RMSE=0.180259 N，R²=0.850159
2025-10-19 16:33:01,107 - INFO - 
Fy-LSTM：MSE=0.030473 (N²)，RMSE=0.174566 N，R²=0.856780
2025-10-19 16:33:01,123 - INFO - 
Fz-LSTM：MSE=0.106974 (N²)，RMSE=0.327069 N，R²=0.959143
2025-10-19 16:33:01,123 - INFO - 
====== 预测时间对比 ======
2025-10-19 16:33:01,123 - INFO - 最小二乘：平均单次预测时间=43442纳秒（0.0434ms）
2025-10-19 16:33:01,123 - INFO - MLP：平均单次预测时间=123纳秒（0.0001ms）
2025-10-19 16:33:01,124 - INFO - LSTM：平均单次预测时间=7745纳秒（0.0077ms）
2025-10-19 16:33:03,097 - INFO - 时序对比图保存完成：force_time_contrast.png
2025-10-19 16:34:23,476 - INFO - 散点对比图保存完成：force_scatter_contrast.png
2025-10-19 16:35:00,337 - INFO - 
====== 训练模式完成！所有结果保存至：force_models_20251019_155944 ======
